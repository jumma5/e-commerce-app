# ملخص مشروع tuh-clothing-e-commerce-app

## نظرة عامة على المشروع
المشروع هو تطبيق تجارة إلكترونية متكامل، مبني باستخدام Next.js 14 (App Router) و React. يهدف إلى توفير تجربة تسوق سريعة وفعالة، مع التركيز على الأداء وتحسين تجربة المستخدم. تم استخدام Redux Toolkit لإدارة الحالة، و Tailwind CSS مع Radix UI لبناء واجهة مستخدم حديثة ومتجاوبة، و Framer Motion لإضافة الرسوم المتحركة الجذابة.

## المكتبات المستخدمة

### `dependencies` (المكتبات الأساسية لتشغيل التطبيق):
*   **`next` (`16.1.6`):** إطار عمل React لبناء تطبيقات الويب ذات الأداء العالي، يدعم Server-Side Rendering (SSR) و Static Site Generation (SSG) و Client-Side Rendering (CSR).
*   **`react` (`19.2.3`), `react-dom` (`19.2.3`):** المكتبات الأساسية لبناء واجهات المستخدم التفاعلية في React.
*   **`@reduxjs/toolkit` (`^2.5.0`):** مجموعة أدوات لتبسيط عملية تطوير تطبيقات Redux، ويوفر وظائف مساعدة لإدارة الحالة العالمية للتطبيق بكفاءة.
*   **`react-redux` (`^9.2.0`):** يوفر ربطًا بين مكتبة Redux ومكونات React، مما يتيح للمكونات الوصول إلى حالة المتجر وإرسال الإجراءات.
*   **`framer-motion` (`^12.0.0`):** مكتبة قوية ومرنة للرسوم المتحركة في React، تُستخدم لإضافة حركات وتأثيرات بصرية سلسة للعناصر لتعزيز تجربة المستخدم.
*   **`lucide-react` (`^0.544.0`):** مجموعة واسعة من الأيقونات الجميلة والخفيفة الوزن، المصممة خصيصًا للاستخدام في تطبيقات React.
*   **`@radix-ui/*` (مجموعة من المكتبات):** مجموعة من مكتبات مكونات واجهة المستخدم (UI components) غير المعروضة بصريًا (headless UI components)، توفر أساسًا قويًا لبناء واجهات مستخدم قابلة للتخصيص بشكل كبير. أمثلة:
    *   `@radix-ui/react-accordion`: لمكون الأكورديون (القابل للطي) لترتيب المحتوى.
    *   `@radix-ui/react-alert-dialog`: لمربعات حوار التنبيه لتأكيد الإجراءات أو عرض رسائل هامة.
    *   `@radix-ui/react-avatar`: لمكونات الصورة الرمزية للمستخدمين أو العناصر الأخرى.
    *   وغيرها الكثير من المكونات الأساسية مثل الأزرار، مربعات الاختيار، القوائم المنسدلة، التلميحات، إلخ، مما يوفر مرونة عالية في التصميم.
*   **`@hookform/resolvers` (`^3.9.1`):** دمج مكتبات التحقق من صحة البيانات (validation libraries) مع `react-hook-form`، مثل `zod`، لتبسيط عملية التحقق من النماذج.
*   **`react-hook-form` (`^7.54.1`):** مكتبة فعالة لإدارة النماذج (forms) في React، تركز على الأداء، سهولة الاستخدام، وتقليل عمليات إعادة التصيير غير الضرورية.
*   **`zod` (`^3.24.1`):** مكتبة قوية وذات أداء عالٍ للتحقق من المخططات (schema validation) في TypeScript، تُستخدم لتعريف وتأكيد بنية البيانات.
*   **`class-variance-authority` (`^0.7.1`):** أداة مساعدة لإنشاء مكونات واجهة مستخدم قابلة للتخصيص بشكل مشروط (conditional styling) بناءً على خصائص معينة.
*   **`clsx` (`^2.1.1`):** أداة مساعدة بسيطة وفعالة لدمج أسماء الفئات الشرطية (conditional class names) في JSX.
*   **`tailwind-merge` (`^2.5.5`):** لدمج أسماء فئات Tailwind CSS بشكل ذكي وتجنب التعارضات عند تطبيق أنماط متعددة.
*   **`sonner` (`^1.7.1`):** مكتبة لإنشاء إشعارات (toasts) جميلة، قابلة للتخصيص، وسهلة الاستخدام لتنبيه المستخدمين.
*   **`date-fns` (`4.1.0`):** مكتبة مساعدة خفيفة الوزن للتعامل مع التواريخ وتنسيقها وتحويلها.
*   **`embla-carousel-react` (`8.5.1`):** مكون Carousel (دوار الصور) لـ React، يوفر وظائف تدوير سلسة للصور أو المحتوى.
*   **`input-otp` (`1.4.1`):** مكون مصمم خصيصًا لإدخال رموز OTP (كلمة مرور لمرة واحدة) بشكل منظم.
*   **`next-themes` (`^0.4.6`):** لإدارة سمات (themes) التطبيق، مثل التبديل بين الوضع الفاتح والداكن بسهولة.
*   **`react-day-picker` (`8.10.1`):** مكون منتقي التاريخ (date picker) مرن وقابل للتخصيص.
*   **`react-resizable-panels` (`^2.1.7`):** مكونات قابلة لتغيير الحجم لإنشاء تخطيطات واجهة مستخدم مرنة وديناميكية.
*   **`recharts` (`2.15.0`):** مكتبة قوية ومرنة لإنشاء الرسوم البيانية التفاعلية في React.
*   **`vaul` (`^1.1.2`):** مكونات لـ bottom sheets، تُستخدم غالبًا في تطبيقات الهاتف المحمول لعرض المحتوى من الأسفل.

### `devDependencies` (المكتبات المستخدمة أثناء التطوير والبناء):
*   **`typescript` (`5.7.3`):** لغة برمجة TypeScript، وهي مجموعة فائقة من JavaScript توفر كتابة ثابتة، مما يحسن من قابلية صيانة الكود ويقلل الأخطاء.
*   **`@types/node` (`^22`), `@types/react` (`19.2.7`), `@types/react-dom` (`19.2.3`):** تعريفات الأنواع لـ TypeScript للمكتبات الأساسية، مما يوفر دعمًا أفضل للإكمال التلقائي والتحقق من الأخطاء في وقت التطوير.
*   **`autoprefixer` (`^10.4.20`), `postcss` (`^8.5`), `tailwindcss` (`^3.4.17`):** أدوات لمعالجة CSS:
    *   `tailwindcss`: إطار عمل CSS قائم على المرافق (utility-first) لإنشاء واجهات مستخدم مخصصة بسرعة ومرونة.
    *   `postcss`: أداة قوية لتحويل CSS باستخدام المكونات الإضافية، تُستخدم لتطبيق التحسينات والتحويلات على الأنماط.
    *   `autoprefixer`: مكون إضافي لـ PostCSS يضيف بادئات البائع (vendor prefixes) تلقائيًا إلى قواعد CSS لضمان التوافق مع المتصفحات المختلفة.
*   **`@tailwindcss/postcss` (`^4.1.13`):** تكامل Tailwind CSS مع PostCSS.
*   **`tailwindcss-animate` (`^1.0.7`):** مكون إضافي لـ Tailwind CSS يوفر فئات مساعدة للرسوم المتحركة المستندة إلى CSS.

### `pnpm` overrides:
*   `@types/react` (`19.2.7`), `@types/react-dom` (`19.2.3`): تحدد إصدارات معينة من تعريفات أنواع React و ReactDOM، ربما لحل مشكلات التوافق أو لضمان استخدام إصدارات محددة.

## الهيكل العام للمشروع (المجلدات الرئيسية)
المشروع مبني باستخدام Next.js App Router، مما يعني أن هيكل المجلدات يتبع اصطلاحات Next.js لإنشاء المسارات والمكونات.

*   **`/app`:** هذا هو المجلد الرئيسي لتطبيق Next.js App Router. 
    *   يحتوي على مسارات التطبيق (مثل `/app/checkout`، `/app/login`، `/app/shop`، `/app/product/[id]`).
    *   الملفات مثل [app/layout.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/app/layout.tsx) و [app/page.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/app/page.tsx) تحدد التخطيط العام والصفحة الرئيسية. 
    *   `globals.css`: ملف CSS عام لتعريف الأنماط الشاملة.
*   **`/components`:** يحتوي على مكونات React القابلة لإعادة الاستخدام في جميع أنحاء التطبيق. 
    *   **`/components/ui`:** يحتوي على مكونات واجهة المستخدم الأساسية المبنية باستخدام Radix UI و Tailwind CSS (مثل `button.tsx`, `input.tsx`, `dialog.tsx`). هذه هي "المكونات البدائية" التي يتم بناء واجهة المستخدم منها.
    *   **مكونات أخرى في `/components`:** مثل `navbar.tsx`, `footer.tsx`, `hero-section.tsx`, `product-card.tsx`، وهي مكونات أكبر تجمع مكونات `ui` لإنشاء أجزاء محددة من واجهة المستخدم.
*   **`/hooks`:** يحتوي على React Hooks مخصصة (custom hooks) لإعادة استخدام المنطق ذي الحالة عبر المكونات.
    *   `use-auth.tsx`: ربما لإدارة حالة المصادقة.
    *   `use-locale.tsx`: لإدارة الترجمة واللغة.
    *   `use-mobile.tsx`: لاكتشاف ما إذا كان المستخدم يتصفح من جهاز محمول.
    *   `use-toast.ts`: لإدارة إشعارات (toasts) واجهة المستخدم.
*   **`/lib`:** يحتوي على ملفات مساعدة (utility files) وأنواع البيانات (types) وتعريفات الواجهات.
    *   `i18n.ts`: لإدارة الترجمة (Internationalization).
    *   `types.ts`: لتعريف أنواع TypeScript المستخدمة في التطبيق (مثل `Product`).
    *   `utils.ts`: وظائف مساعدة عامة.
*   **`/public`:** يحتوي على الأصول الثابتة (static assets) مثل الصور.
    *   `/public/images`: مجلد للصور.
*   **`/store`:** لإدارة الحالة العالمية للتطبيق باستخدام Redux Toolkit.
    *   `cart-slice.ts`: لتعريف منطق حالة سلة التسوق.
    *   `hooks.ts`: لتعريف custom hooks لـ Redux (مثل `useAppDispatch`).
    *   `index.ts`: لتهيئة مخزن Redux (Redux store).
*   **`/styles`:** مجلد إضافي لملفات الأنماط، ويحتوي على `globals.css` (على الرغم من وجود نسخة في `/app` أيضًا).

### ملفات التكوين (Configuration Files):
*   **`.gitignore`:** يحدد الملفات والمجلدات التي يجب أن يتجاهلها Git.
*   **`components.json`:** ربما لتكوين أداة `shadcn/ui` أو أداة مماثلة للمكونات.
*   **`next.config.mjs`:** ملف تكوين Next.js.
*   **`package.json`:** يحدد معلومات المشروع والمكتبات (التبعيات).
*   **`pnpm-lock.yaml`:** ملف `lockfile` لـ `pnpm` لضمان تثبيت نفس إصدارات المكتبات.
*   **`postcss.config.mjs`:** ملف تكوين PostCSS.
*   **`tailwind.config.ts`:** ملف تكوين Tailwind CSS.
*   **`tsconfig.json`:** ملف تكوين TypeScript.

## شرح أهم الملفات والدوال

1.  **[app/layout.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/app/layout.tsx)**
    *   **الدور:** هذا الملف يحدد التخطيط (layout) الأساسي لتطبيق Next.js App Router. أي شيء يتم تعريفه هنا سيتم عرضه في جميع صفحات التطبيق.
    *   **المحتوى النموذجي:** يحدد علامات HTML الأساسية (`<html>`, `<body>`)، ويستورد خطوطًا، ويوفر `Providers` (مثل `ThemeProvider` و `ReduxProvider`) التي تغلف التطبيق بأكمله.
    *   **الدوال الرئيسية:**
        *   `RootLayout({ children })`: دالة React Component تستقبل `children` كخاصية، وهي تمثل محتوى الصفحة الحالية. تقوم بتضمين `children` داخل التخطيط المشترك.

2.  **[app/page.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/app/page.tsx)** (بعد التعديلات التي قمنا بها)
    *   **الدور:** هذه هي الصفحة الرئيسية (Home Page) للتطبيق. تم تعديلها لتكون مكون خادم (Server Component) لجلب البيانات بكفاءة.
    *   **الدوال الرئيسية:**
        *   `async function HomePage()`: دالة React Component غير متزامنة تقوم بجلب المنتجات المميزة من API خارجي (`fakestoreapi.com`) على جانب الخادم. ثم تقوم بتمرير هذه المنتجات كخاصية إلى `HomeClientPage` (مكون عميل) الذي يتولى عرض الواجهة وتفاعل المستخدم.

3.  **[components/home-client-page.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/home-client-page.tsx)** (المكون الجديد)
    *   **الدور:** هذا المكون هو النسخة "العميلة" من الصفحة الرئيسية. يحتوي على كل منطق React الذي يتطلب التفاعل مع المتصفح، مثل `useEffect` و `useState`.
    *   **الدوال الرئيسية:**
        *   `HomeClientPage({ products })`: دالة React Component تستقبل `products` التي تم جلبها من الخادم. تحتوي على `useEffect` لتهيئة سلة التسوق (`initCart`) عند تحميل الصفحة، وتقوم بتجميع وعرض مكونات الواجهة الأمامية مثل `Navbar`, `HeroSection`, `CategoriesSection`, و `FeaturedProducts`.

4.  **[components/navbar.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/navbar.tsx)**
    *   **الدور:** يعرض شريط التنقل العلوي (navigation bar) للتطبيق، والذي يتضمن عادةً شعار الموقع، روابط التنقل، أيقونات سلة التسوق، وأزرار تسجيل الدخول/الخروج.
    *   **الدوال الرئيسية:**
        *   `Navbar()`: دالة React Component تقوم بتصيير شريط التنقل.

5.  **[components/footer.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/footer.tsx)**
    *   **الدور:** يعرض الجزء السفلي (footer) للتطبيق، والذي يحتوي عادةً على معلومات حقوق النشر، روابط سياسة الخصوصية، وروابط التواصل الاجتماعي.
    *   **الدوال الرئيسية:**
        *   `Footer()`: دالة React Component تقوم بتصيير تذييل الصفحة.

6.  **[components/hero-section.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/hero-section.tsx)**
    *   **الدور:** يعرض قسم "البطل" (hero section) الكبير في أعلى الصفحة الرئيسية، والذي يتضمن صورة خلفية جذابة وعنوانًا رئيسيًا وعبارة تحث المستخدم على اتخاذ إجراء.
    *   **الدوال الرئيسية:**
        *   `HeroSection()`: دالة React Component تقوم بتصيير قسم البطل. تستخدم `next/image` للصور و `framer-motion` للرسوم المتحركة.

7.  **[components/categories-section.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/categories-section.tsx)**
    *   **الدور:** يعرض قسمًا يعرض فئات المنتجات المتاحة في المتجر.
    *   **الدوال الرئيسية:**
        *   `CategoriesSection()`: دالة React Component تقوم بتصيير قسم الفئات. تستخدم `lucide-react` للأيقونات و `framer-motion` للرسوم المتحركة.

8.  **[components/featured-products.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/featured-products.tsx)** (بعد التعديلات)
    *   **الدور:** يعرض قسمًا للمنتجات المميزة في الصفحة الرئيسية.
    *   **الدوال الرئيسية:**
        *   `FeaturedProducts({ initialProducts })`: دالة React Component تستقبل `initialProducts` (التي تم جلبها من الخادم) كخاصية. تقوم بتصيير قائمة من `ProductCard` لكل منتج. لم يعد يقوم بجلب البيانات على جانب العميل بشكل افتراضي.

9.  **[components/product-card.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/components/product-card.tsx)**
    *   **الدور:** يعرض بطاقة منتج واحد، بما في ذلك صورته واسمه وسعره وتقييمه وزر لإضافته إلى سلة التسوق.
    *   **الدوال الرئيسية:**
        *   `ProductCard({ product, priority })`: دالة React Component تستقبل كائن `product` ومعلمة `priority` (لتحديد أولوية تحميل الصورة). تستخدم `next/image` لصور المنتجات.

10. **[store/index.ts](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/store/index.ts)**
    *   **الدور:** يقوم بتهيئة مخزن Redux (Redux store) باستخدام `configureStore` من `@reduxjs/toolkit`. يجمع كل "شرائح" (slices) Redux (مثل `cartSlice`) في مخزن واحد.
    *   **الدوال الرئيسية:**
        *   `makeStore()`: دالة تقوم بإنشاء وتكوين مخزن Redux.
        *   `AppStore`, `RootState`, `AppDispatch`: تعريفات لأنواع TypeScript لمخزن Redux وحالته ووظيفة الإرسال (dispatch function).

11. **[store/cart-slice.ts](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/store/cart-slice.ts)**
    *   **الدور:** يحدد "شريحة" (slice) Redux لإدارة حالة سلة التسوق. يتضمن الحالة الأولية لسلة التسوق (المنتجات، المجموع الكلي)، و "المخفضات" (reducers) للتعامل مع الإجراءات (actions) مثل إضافة منتج، إزالة منتج، زيادة/تقليل الكمية، وتهيئة سلة التسوق من التخزين المحلي.
    *   **الدوال الرئيسية:**
        *   `cartSlice.reducer`: المخفض الرئيسي لشريحة سلة التسوق.
        *   `addToCart`, `removeFromCart`, `increaseQuantity`, `decreaseQuantity`, `initCart`: هذه هي "الإجراءات" (actions) التي يمكن إرسالها لتعديل حالة سلة التسوق.

12. **[hooks/use-locale.tsx](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/hooks/use-locale.tsx)**
    *   **الدور:** React Hook مخصص لإدارة نصوص الترجمة في التطبيق. يوفر وظيفة `t` التي تسمح للمكونات بالوصول إلى النصوص المترجمة.
    *   **الدوال الرئيسية:**
        *   `useLocale()`: هوك React يعيد كائنًا يحتوي على نصوص الترجمة (مثل `t.hero.title`).

13. **[lib/types.ts](file:///c:/Users/Lenovo/Desktop/tuh-clothing-e-commerce-app-main/lib/types.ts)**
    *   **الدور:** يحتوي على تعريفات TypeScript للأنواع والواجهات المستخدمة في جميع أنحاء التطبيق، مثل واجهة `Product`، التي تحدد شكل كائن المنتج (id, title, price, image, rating, etc.).